translations = {
    "uz": {
        # Main messages
        "greeting": "Assalomu alaykum! {name}!\n\nSavdo-sanoat palatasi Biznes Marafon Botiga xush kelibsiz!\nBu yerda siz biznes forumlar, ko'rgazmalar va yarmarkalar haqida to'liq ma'lumot olishingiz va ro'yxatdan o'tishingiz mumkin.",
        "choose_language": "Tilni tanlang / Choose language / Выберите язык",
        "language_changed": "✅ Til muvaffaqiyatli o'zgartirildi!",
        
        # Buttons
        "btn_events": "📅 Tadbirlar ro'yxati",
        "btn_contact": "📞 Aloqa",
        "btn_lang": "🌐 Tilni o'zgartirish",
        "btn_read_more": "📖 Batafsil",
        "btn_register": "✍️ Ro'yxatdan o'tish",
        "btn_send_phone": "📱 Telefon raqamini yuborish",
        
        # Events
        "events_list": "📅 Tadbirlar ro'yxati:",
        "no_events": "📭 Hozircha tadbirlar yo'q.",
        "event_not_found": "❌ Tadbir topilmadi.",
        "already_registered": "✅ Siz allaqachon bu tadbirga ro'yxatdan o'tgansiz!",
        
        # Registration
        "enter_name": "✍️ Iltimos, ismingizni kiriting:",
        "send_phone": "📱 Iltimos, telefon raqamingizni yuboring:",
        "registration_success": "🎉 Siz muvaffaqiyatli ro'yxatdan o'tdingiz!\n\nTadbir boshlanishidan oldin sizga eslatma yuboriladi.",
        "registration_cancelled": "❌ Ro'yxatdan o'tish bekor qilindi.",
        
        # Contact
        "contact_info": "📞 Biz bilan bog'lanish:\n\n📧 Email: info@chamber.uz\n📱 Telefon: 1094\n🌐 Website: www.chamber.uz",
        
        # Admin
        "admin_panel": "🔐 Admin panelga xush kelibsiz:",
        "not_admin": "❌ Siz admin emassiz.",
        "btn_add_event": "➕ Tadbir qo'shish",
        "btn_manage_events": "📊 Tadbirlarni boshqarish",
        "btn_send_message": "📤 Xabar yuborish",
        "enter_title": "✍️ Tadbir nomini kiriting:",
        "send_image": "📸 Tadbir rasmini yuboring:",
        "enter_description": "📝 Tadbir tavsifini kiriting:",
        "enter_link": "🔗 Batafsil ma'lumot uchun havola kiriting (ixtiyoriy):\n\nHavolani o'tkazib yuborish uchun /skip buyrug'ini yuboring.",
        "event_added": "✅ Tadbir muvaffaqiyatli qo'shildi!",
        "choose_event_manage": "📊 Boshqarish uchun tadbirni tanlang:",
        "btn_archive": "🗄️ Arxivlash",
        "btn_edit": "✏️ Tahrirlash",
        "btn_download": "📥 Ro'yxatni yuklab olish",
        "event_archived": "✅ Tadbir arxivlandi!",
        "enter_message": "📝 Barcha foydalanuvchilarga yuborish uchun xabarni kiriting:",
        "message_sent": "✅ Xabar {count} ta foydalanuvchiga yuborildi!",
        "no_registrations": "📭 Bu tadbirga hech kim ro'yxatdan o'tmagan.",
        "skip": "/skip"
    },
    "ru": {
        # Main messages
        "greeting": "Ассаламу алейкум! {name}!\n\nДобро пожаловать в Бизнес Марафон Бот Торгово-промышленной палаты!\nЗдесь вы можете получить полную информацию о бизнес-форумах, выставках и ярмарках, а также зарегистрироваться на них.",
        "choose_language": "Tilni tanlang / Choose language / Выберите язык",
        "language_changed": "✅ Язык успешно изменен!",
        
        # Buttons
        "btn_events": "📅 Список мероприятий",
        "btn_contact": "📞 Контакты",
        "btn_lang": "🌐 Изменить язык",
        "btn_read_more": "📖 Подробнее",
        "btn_register": "✍️ Регистрация",
        "btn_send_phone": "📱 Отправить номер телефона",
        
        # Events
        "events_list": "📅 Список мероприятий:",
        "no_events": "📭 Пока нет мероприятий.",
        "event_not_found": "❌ Мероприятие не найдено.",
        "already_registered": "✅ Вы уже зарегистрированы на это мероприятие!",
        
        # Registration
        "enter_name": "✍️ Пожалуйста, введите ваше имя:",
        "send_phone": "📱 Пожалуйста, отправьте ваш номер телефона:",
        "registration_success": "🎉 Вы успешно зарегистрированы!\n\nПеред началом мероприятия вам будет отправлено напоминание.",
        "registration_cancelled": "❌ Регистрация отменена.",
        
        # Contact
        "contact_info": "📞 Свяжитесь с нами:\n\n📧 Email: info@chamber.uz\n📱 Телефон: 1094\n🌐 Сайт: www.chamber.uz",
        
        # Admin
        "admin_panel": "🔐 Добро пожаловать в админ панель:",
        "not_admin": "❌ Вы не являетесь администратором.",
        "btn_add_event": "➕ Добавить мероприятие",
        "btn_manage_events": "📊 Управление мероприятиями",
        "btn_send_message": "📤 Отправить сообщение",
        "enter_title": "✍️ Введите название мероприятия:",
        "send_image": "📸 Отправьте изображение мероприятия:",
        "enter_description": "📝 Введите описание мероприятия:",
        "enter_link": "🔗 Введите ссылку для подробной информации (необязательно):\n\nДля пропуска отправьте /skip",
        "event_added": "✅ Мероприятие успешно добавлено!",
        "choose_event_manage": "📊 Выберите мероприятие для управления:",
        "btn_archive": "🗄️ Архивировать",
        "btn_edit": "✏️ Редактировать",
        "btn_download": "📥 Скачать список",
        "event_archived": "✅ Мероприятие архивировано!",
        "enter_message": "📝 Введите сообщение для отправки всем пользователям:",
        "message_sent": "✅ Сообщение отправлено {count} пользователям!",
        "no_registrations": "📭 На это мероприятие никто не зарегистрировался.",
        "skip": "/skip"
    },
    "en": {
        # Main messages
        "greeting": "Assalamu alaykum! {name}!\n\nWelcome to the Chamber of Commerce Business Marathon Bot!\nHere you can get full information about business forums, exhibitions, and fairs, as well as register for them.",
        "choose_language": "Tilni tanlang / Choose language / Выберите язык",
        "language_changed": "✅ Language successfully changed!",
        
        # Buttons
        "btn_events": "📅 Events List",
        "btn_contact": "📞 Contact",
        "btn_lang": "🌐 Change Language",
        "btn_read_more": "📖 Read More",
        "btn_register": "✍️ Register",
        "btn_send_phone": "📱 Send Phone Number",
        
        # Events
        "events_list": "📅 Events List:",
        "no_events": "📭 No events available yet.",
        "event_not_found": "❌ Event not found.",
        "already_registered": "✅ You are already registered for this event!",
        
        # Registration
        "enter_name": "✍️ Please enter your name:",
        "send_phone": "📱 Please send your phone number:",
        "registration_success": "🎉 You have successfully registered!\n\nYou will receive a reminder before the event starts.",
        "registration_cancelled": "❌ Registration cancelled.",
        
        # Contact
        "contact_info": "📞 Contact us:\n\n📧 Email: info@chamber.uz\n📱 Phone: 1094\n🌐 Website: www.chamber.uz",
        
        # Admin
        "admin_panel": "🔐 Welcome to admin panel:",
        "not_admin": "❌ You are not an administrator.",
        "btn_add_event": "➕ Add Event",
        "btn_manage_events": "📊 Manage Events",
        "btn_send_message": "📤 Send Message",
        "enter_title": "✍️ Enter event title:",
        "send_image": "📸 Send event image:",
        "enter_description": "📝 Enter event description:",
        "enter_link": "🔗 Enter link for more information (optional):\n\nSend /skip to skip this step.",
        "event_added": "✅ Event successfully added!",
        "choose_event_manage": "📊 Choose event to manage:",
        "btn_archive": "🗄️ Archive",
        "btn_edit": "✏️ Edit",
        "btn_download": "📥 Download List",
        "event_archived": "✅ Event archived!",
        "enter_message": "📝 Enter message to send to all users:",
        "message_sent": "✅ Message sent to {count} users!",
        "no_registrations": "📭 No one has registered for this event.",
        "skip": "/skip"
    }
}

def get_text(key: str, lang: str = "uz", **kwargs) -> str:
    """Get translated text with optional formatting"""
    text = translations.get(lang, {}).get(key, translations["uz"].get(key, key))
    if kwargs:
        return text.format(**kwargs)
    return text